<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>JuliaWeBWorK.jl · JuliaWeBWorK</title><meta name="title" content="JuliaWeBWorK.jl · JuliaWeBWorK"/><meta property="og:title" content="JuliaWeBWorK.jl · JuliaWeBWorK"/><meta property="twitter:title" content="JuliaWeBWorK.jl · JuliaWeBWorK"/><meta name="description" content="Documentation for JuliaWeBWorK."/><meta property="og:description" content="Documentation for JuliaWeBWorK."/><meta property="twitter:description" content="Documentation for JuliaWeBWorK."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>JuliaWeBWorK</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>JuliaWeBWorK.jl</a><ul class="internal"><li><a class="tocitem" href="#Elements-of-a-page"><span>Elements of a page</span></a></li><li><a class="tocitem" href="#Reference"><span>Reference</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>JuliaWeBWorK.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>JuliaWeBWorK.jl</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mth229/JuliaWeBWorK.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="JuliaWeBWorK.jl"><a class="docs-heading-anchor" href="#JuliaWeBWorK.jl">JuliaWeBWorK.jl</a><a id="JuliaWeBWorK.jl-1"></a><a class="docs-heading-anchor-permalink" href="#JuliaWeBWorK.jl" title="Permalink"></a></h1><p><a href="https://github.com/mth229/JuliaWeBWorK.jl">(source) JuliaWeBWorK.jl</a></p><p>The <code>JuliaWeBWorK</code> package is a means to author <code>.pg</code> file for <a href="https://webwork.maa.org/">WeBWorK</a> from a <code>Julia</code> script.</p><h2 id="Elements-of-a-page"><a class="docs-heading-anchor" href="#Elements-of-a-page">Elements of a page</a><a id="Elements-of-a-page-1"></a><a class="docs-heading-anchor-permalink" href="#Elements-of-a-page" title="Permalink"></a></h2><p>The script should call the package</p><pre><code class="language-julia hljs">using JuliaWeBWorK</code></pre><p>The basic flow is a &quot;page&quot; is defined in the script which when <code>show</code>n writes out the <code>pg</code> text.</p><hr/><p>A page consists of</p><ul><li>an introduction</li><li>questions (questions, comments, hints)</li><li>metadata</li></ul><p>A &quot;page&quot; is created by a call like:</p><pre><code class="nohighlight hljs">p =  Page(intro, qs;  [context], [answer_context], meta...)</code></pre><p>The <code>show</code> method for a page writes out the page in <code>pg</code> format for saving and uploading into <code>WeBWorK</code>.</p><p>A page has a <code>context</code> and <code>answer_context</code> instructing <code>WeBWorK</code> as to how it should process the student&#39;s answer. The value <a href="#JuliaWeBWorK.numbers_only"><code>numbers_only</code></a> for <code>answer_context</code> is used to turn off the simplification pass by <code>WeBWorK</code> (so students answers like <code>2+2</code> are distinct from <code>4</code>).</p><h3 id="An-introduction"><a class="docs-heading-anchor" href="#An-introduction">An introduction</a><a id="An-introduction-1"></a><a class="docs-heading-anchor-permalink" href="#An-introduction" title="Permalink"></a></h3><p>A introduction is just markdown text used to frame the page&#39;s questions.</p><h4 id="String-macros"><a class="docs-heading-anchor" href="#String-macros">String macros</a><a id="String-macros-1"></a><a class="docs-heading-anchor-permalink" href="#String-macros" title="Permalink"></a></h4><p>While an introduction is just text that is parsed as markdown, it is expected that the string may contain a combination of values to interpolate or LaTeX markup. Similarly, the text for questions is typically a mustache template for randomization purposes.</p><p>To work with text snippets some string macros are useful:</p><ul><li><p><code>raw&quot;&quot;&quot;</code>: the raw annotation creates a string without interpolation and unescaping. Dollar signs and backslashes are treated as written.</p></li><li><p><code>jmt&quot;&quot;&quot;</code>: this annotation for <code>Mustache</code> is like raw, only it uses string interpolation for dollar signs (like regular strings) and parses into <code>Mustache</code> tokens. This is suggested.</p></li><li><p><code>L&quot;&quot;&quot;</code>: The <code>L</code> annotation is re-exported from the <code>LaTeXStrings</code> package. It leaves dollar signs and backslashes alone, like raw<code>but when none are present, wraps the entire string in dollar signs as though it is a</code>LaTex` math command. This markup can be useful when making answers for radio choices questions.</p></li><li><p><code>q&quot;&quot;&quot;</code>: This just wraps the string in single back ticks as though the text is code.</p></li></ul><h4 id="LaTeX-code"><a class="docs-heading-anchor" href="#LaTeX-code">LaTeX code</a><a id="LaTeX-code-1"></a><a class="docs-heading-anchor-permalink" href="#LaTeX-code" title="Permalink"></a></h4><p>It is suggested to use the Markdown markup of <a href="https://documenter.juliadocs.org/stable/man/latex/">Documenter.jl</a> for LaTeX markup:</p><ul><li><p>use paired double back ticks instead of a paired dollar signs for inline math. The use of dollar signs or backslash opening parentheses requires escaping for some strings.</p></li><li><p>use a triple-back tick gate annotated with <code>math</code> instead of double dollar signs or backslash square bracket.</p></li></ul><h3 id="Questions"><a class="docs-heading-anchor" href="#Questions">Questions</a><a id="Questions-1"></a><a class="docs-heading-anchor-permalink" href="#Questions" title="Permalink"></a></h3><p>Questions consist of a question <em>and</em> a means to grade student answers.</p><p>Questions come in a few different types:</p><h4 id="randomq"><a class="docs-heading-anchor" href="#randomq"><code>randomq</code></a><a id="randomq-1"></a><a class="docs-heading-anchor-permalink" href="#randomq" title="Permalink"></a></h4><p>Most questions can be randomized. As we expect answers to be computed using <code>Julia</code> code, the resulting <code>pg</code> file contains all possible combinations and <code>WeBWorK</code> simply chooses a random index. (Hence, the number of possible random outcomes shouldn&#39;t be too big.)</p><p>The randomization is specified using a tuple of iterables, as in <code>(1:5,)</code> or <code>(1:5, 1:5)</code>. (Note the trailing comma in the first to make a tuple.) Randomization can be shared amongst questions using a <a href="#JuliaWeBWorK.randomizer-Tuple"><code>randomizer</code></a> object.</p><p>Within a question, the randomized variables are referred to by <code>Mustache</code> variables numbered <code>{{:a1}}</code>, <code>{{:a2}}</code>, etc. (upto 16).</p><p>The answer to be graded is computed by an <code>n</code>-ary function with <code>n</code> the number of randomized variables (0 to 16).</p><p>The <code>randomq(question, answer_fn, randomizer; ...)</code> constructor allows this. This first example has no randomization (as specified by <code>()</code> for the third position argument).</p><pre><code class="language-julia hljs">using SpecialFunctions
randomq(&quot;What is the *value*  of  `airy(pi)`?&quot;, () -&gt; airyai(pi), ())</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">JuliaWeBWorK.FixedRandomQ(&quot;13428534535398526724&quot;, &quot;What is the *value*  of  `airy(pi)`?&quot;, &quot;&quot;, 0.005089353479594496, 0.0001, false)</code></pre><p>This example has randomization over two variables:</p><pre><code class="language-julia hljs">randomq(&quot;What is ``{{:a1}} + {{:a2}}``?&quot;,  (a,b) -&gt; a+b, (1:5, 1:5))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">JuliaWeBWorK.RandomQ(&quot;12168272408619044060&quot;, (1:5, 1:5), Main.var&quot;#3#4&quot;(), &quot;What is ``{{:a1}} + {{:a2}}``?&quot;, &quot;&quot;, 0.0001, false)</code></pre><p>The above two examples expect a numeric output. For the first, a tolerance would be expected. The <code>numericq</code> constructor has the keyword argument <code>tolerance</code> defaulting to <code>1e-4</code> for an absolute tolerance.</p><p>For students, answers have:</p><ul><li>scientific notation in answers must use an E (not <code>e</code>)</li><li><code>Inf</code> is used for infinity</li></ul><p>Other answer types than numbers can be specified:</p><h4 id="Lists"><a class="docs-heading-anchor" href="#Lists">Lists</a><a id="Lists-1"></a><a class="docs-heading-anchor-permalink" href="#Lists" title="Permalink"></a></h4><p>Student answers can be comma separated lists of numbers. The <a href="#JuliaWeBWorK.List"><code>List</code></a> function is used to specify the list.</p><pre><code class="language-julia hljs">question = raw&quot;&quot;&quot;What are the elements of  ``\{1,2, {{:a1}}  \}``?&quot;&quot;&quot;
answer(a) = List(1,2, a)
rnd = (3:5,)
randomq(question, answer, rnd)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">JuliaWeBWorK.RandomQ(&quot;13314766936953593890&quot;, (3:5,), Main.answer, &quot;What are the elements of  ``\\{1,2, {{:a1}}  \\}``?&quot;, &quot;&quot;, 0.0001, false)</code></pre><p>The keyword argument <code>ordered::Bool</code> can be specified if the list should be in some specific order, otherwise these are graded as sets.</p><h4 id="Intervals"><a class="docs-heading-anchor" href="#Intervals">Intervals</a><a id="Intervals-1"></a><a class="docs-heading-anchor-permalink" href="#Intervals" title="Permalink"></a></h4><p>An interval or list of intervals may be specified as an answer. When indicating an interval, we have <code>Interval(a,b)</code>. This will match regardless of open or closed, except when infinities are involved.</p><pre><code class="language-julia hljs">question = raw&quot;On what  intervals is ``f(x)=(x+1) \cdot x \cdot (x-1)`` positive?&quot;
answer() =  List([Interval(-1, 0), Interval(1,Inf)])
rnd = ()
randomq(question, answer, rnd)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">JuliaWeBWorK.FixedRandomQ(&quot;4972416264372034989&quot;, &quot;On what  intervals is ``f(x)=(x+1) \\cdot x \\cdot (x-1)`` positive?&quot;, &quot;&quot;, List(Interval(-1, 0), Interval(1, infinity)), 0.0001, false)</code></pre><h4 id="stringq"><a class="docs-heading-anchor" href="#stringq"><code>stringq</code></a><a id="stringq-1"></a><a class="docs-heading-anchor-permalink" href="#stringq" title="Permalink"></a></h4><p>To fill in from a limited set of strings, as computed by the possible range of the answer function over the random set.</p><h3 id="Choice-questions"><a class="docs-heading-anchor" href="#Choice-questions">Choice questions</a><a id="Choice-questions-1"></a><a class="docs-heading-anchor-permalink" href="#Choice-questions" title="Permalink"></a></h3><p>Choice questions only have their selection of answer(s) randomized. The questions do not have any templated values for substitution, as <code>randomq</code> questions may.</p><h4 id="radioq"><a class="docs-heading-anchor" href="#radioq"><code>radioq</code></a><a id="radioq-1"></a><a class="docs-heading-anchor-permalink" href="#radioq" title="Permalink"></a></h4><p>For multiple choice questions (1 of many). Also <code>yesnoq(questions, answer::Bool)</code> The choices to choose from are specified as an iterable of choices. If that iterable contains nested iterables, those will be shuffled. The correct answer is specified by index relative to the flattened collection:</p><pre><code class="nohighlight hljs">radioq(&quot;Pick \&quot;three\&quot;&quot;, (&quot;one&quot;, &quot;two&quot;,&quot;three&quot;), 3)           # none randomized
radioq(&quot;Pick \&quot;three\&quot;&quot;, ((&quot;one&quot;, &quot;two&quot;,&quot;three&quot;),), 3)        # all randomized
radioq(&quot;Pick third&quot;, ((&quot;one&quot;, &quot;two&quot;),&quot;three&quot;),  3)            # &quot;three&quot; at end
radioq(&quot;Pick third&quot;, ((&quot;one&quot;,&quot;two&quot;),  (&quot;three&quot;,  &quot;four&quot;)), 3) # randomized each pair</code></pre><h4 id="multiplechoiceq"><a class="docs-heading-anchor" href="#multiplechoiceq"><code>multiplechoiceq</code></a><a id="multiplechoiceq-1"></a><a class="docs-heading-anchor-permalink" href="#multiplechoiceq" title="Permalink"></a></h4><p>for multiple choice questions (1 <em>or more</em> of many) the answers should be a tuple of needed selections.</p><pre><code class="nohighlight hljs">multiplechoiceq(&quot;Select all three&quot;, (raw&quot;\\(1\\)&quot;, &quot;**two**&quot;, &quot;3&quot;), (1,2,3)) # not randomised
multiplechoiceq(&quot;Some question&quot;, ((&quot;one&quot;,&quot;two&quot;,&quot;three&quot;),&quot;four&quot;), 4) # first three randomized
multiplechoiceq(&quot;Some question&quot;, ((&quot;one&quot;,&quot;two&quot;,&quot;three&quot;),(&quot;four&quot;,&quot;five&quot;)), (4,5)) # randomized first three, last two</code></pre><h4 id="subsetsortq"><a class="docs-heading-anchor" href="#subsetsortq"><code>subsetsortq</code></a><a id="subsetsortq-1"></a><a class="docs-heading-anchor-permalink" href="#subsetsortq" title="Permalink"></a></h4><p>For a given set of elements, this allows the user to sort them into different &quot;buckets&quot; by dragging and dropping.</p><pre><code class="nohighlight hljs">choices =  [
        &quot;mouse&quot;,        &quot;ebola bacteria&quot;,
        &quot;flu virus&quot;,    &quot;krill&quot;,
        &quot;house cat&quot;,    &quot;emu&quot;,
        &quot;coyote&quot;,       &quot;tapir&quot;,
        &quot;hippopotamus&quot;, &quot;elephant&quot;,
        &quot;blue whale&quot;,   &quot;eagle&quot;
    ]
answers = [&quot;Animals&quot; =&gt; [],  # none left, though may be
           &quot;Mammals&quot; =&gt; [ 1,5,7,8,9,10,11], # mammals ...
           &quot;Birds&quot; =&gt; [6,12],
           &quot;Other&quot; =&gt; [2,3,4]]
subsetsortq(&quot;Organize the species&quot;, choices, answers)</code></pre><h4 id="nx2tableq"><a class="docs-heading-anchor" href="#nx2tableq"><code>nx2tableq</code></a><a id="nx2tableq-1"></a><a class="docs-heading-anchor-permalink" href="#nx2tableq" title="Permalink"></a></h4><p>WeBWorK has a <code>niceTable.pl</code> macro that allows alignment of questions using tables. The <code>nx2tableq</code> is a wrapper around a set of questions formatting them in a <span>$n$</span> by <span>$2$</span> layout with the first column being the question, the second column space for an answer. There are attributes to set a caption, add rules, align the columns, and center the table in the display.</p><pre><code class="nohighlight hljs">nx2tableq(raw&quot;Let ``f(x) = \sin(x)``.&quot;
[
    numericq(L&quot;\pi&quot;, ()-&gt;sin(pi), ()),
    numericq(L&quot;\pi/2&quot;, ()-&gt;sin(pi/2), ()),
    numericq(L&quot;3\pi/2&quot;, ()-&gt;sin(3pi/2), ()),
    radioq(&quot;pick the larger value&quot;, [L&quot;f(\pi/4)&quot;, L&quot;f(\pi/3)&quot;],2)
];
          header=(L&quot;x&quot;,L&quot;f(x)&quot;),
          caption=&quot;Enter the values&quot;,
          align=&quot;l | l&quot;,
          ) |&gt;qs</code></pre><h4 id="Essayq"><a class="docs-heading-anchor" href="#Essayq"><code>Essayq</code></a><a id="Essayq-1"></a><a class="docs-heading-anchor-permalink" href="#Essayq" title="Permalink"></a></h4><p>For longer form text answers that are graded individually. Only 1 per page is allowed.</p><h3 id="Output-only"><a class="docs-heading-anchor" href="#Output-only">Output only</a><a id="Output-only-1"></a><a class="docs-heading-anchor-permalink" href="#Output-only" title="Permalink"></a></h3><p>A WeBWorK question has 3 possible places of inclusion: the answer, the question or what the student sees, and a solution. Sometimes just output is needed.</p><h4 id="plotq"><a class="docs-heading-anchor" href="#plotq"><code>plotq</code></a><a id="plotq-1"></a><a class="docs-heading-anchor-permalink" href="#plotq" title="Permalink"></a></h4><p>For randomized plots in a question, <code>plotq</code> can be used to display the plots. Another question must be used to ask the question and gather the answer. The <code>randomizer</code> must be used to share randomization between the two.</p><h4 id="jsxgraph"><a class="docs-heading-anchor" href="#jsxgraph"><code>jsxgraph</code></a><a id="jsxgraph-1"></a><a class="docs-heading-anchor-permalink" href="#jsxgraph" title="Permalink"></a></h4><p>The page can include interactive graphics using <code>jsxgraph</code>. While not as interactive as the geogebra use within WeBWorK, this does allows interactive demonstrations. The <code>JuliaWeBWorK.INCLUDE</code> declaration creates a function which can make working with separate <code>.js</code> files easier within a script.</p><h4 id="hint"><a class="docs-heading-anchor" href="#hint"><code>hint</code></a><a id="hint-1"></a><a class="docs-heading-anchor-permalink" href="#hint" title="Permalink"></a></h4><p>A hint shows a little inline popup.</p><hr/><p>There are a few helpers for questions:</p><ul><li><code>Plot</code> allows for inclusion of a <code>Plots</code> object into a <code>pg</code> file. Plots are encoded and embedded.</li><li><code>File</code> allows for inclusion of images stored in files into a <code>pg</code> file. Images are encoded and embedded.</li><li><code>JSXGraph</code> allows for inclusion of interactive graphs using <code>jsxgraph.org</code>.</li><li><code>qs = JuliaWeBWorK.QUESTIONS()</code> creates a container for questions that can be easily <code>push</code>ed onto via a pipe.</li><li><code>letters = JuliaWeBWorK.letters()</code> creates a function, <code>letters</code> which returns an incremented letter each time it is called. Useful to multi-part questions.</li></ul><h3 id="Meta-data"><a class="docs-heading-anchor" href="#Meta-data">Meta data</a><a id="Meta-data-1"></a><a class="docs-heading-anchor-permalink" href="#Meta-data" title="Permalink"></a></h3><p>Each <code>pg</code> file may have meta data in its contents. Such data is passed to the <code>Page</code> constructor through keyword arguments. For example, the following could be splatted into the call to <code>Page</code>.</p><pre><code class="nohighlight hljs">meta = (
KEYWORDS  = &quot;Julia, WeBWorK&quot;,
DBChapter = &quot;Sample questions&quot;,
DBSection = &quot;section 1&quot;,
Section = &quot;1&quot;,
Problem = &quot;1&quot;
)</code></pre><h2 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.numbers_only" href="#JuliaWeBWorK.numbers_only"><code>JuliaWeBWorK.numbers_only</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">numbers_only</code></pre><p>Dictionary to pass to <code>answer_context</code> to turn off WeBWorK&#39;s simplification pass. There is no means to turn this off per problem, only per page.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/page.jl#L73-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.AbstractChoiceQ" href="#JuliaWeBWorK.AbstractChoiceQ"><code>JuliaWeBWorK.AbstractChoiceQ</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs"> AbstractChoiceQ</code></pre><p>The  choices questions don&#39;t  readily lend themselves to fit  with  the <code>AbstractRandomizedQ</code> setup,  so the choice questions push randomization on  to WeBWorK.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L24-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.AbstractOutputQ" href="#JuliaWeBWorK.AbstractOutputQ"><code>JuliaWeBWorK.AbstractOutputQ</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractOutputQ</code></pre><p>Type for output only things (Plots, hint, label ...)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.AbstractQ" href="#JuliaWeBWorK.AbstractQ"><code>JuliaWeBWorK.AbstractQ</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>AbstractQ</p><p>A  question has atleast two part: a question (marked up in julia-flavored markdown) and an answer, which is typically randomized. In  WeBWorK, there are  tpyically 3 places in  the file where a question needs defintions:  in the preamble  the values are defined (written by <code>create_answer</code>);  between <code>BEGIN_TEXT</code> and <code>END_TEXT</code> the question is asked (written by <code>show_answer</code>); and the grading  area  (written by <code>show_answer).  Hints can be added through</code>hint`.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L2-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.AbstractRandomizedQ" href="#JuliaWeBWorK.AbstractRandomizedQ"><code>JuliaWeBWorK.AbstractRandomizedQ</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractRandomizedQ</code></pre><p>A question where randomization is done  by creating an array of <em>all</em> possible values  for the sample space in <code>Julia</code> and having WeBWorK  select  one of the values. The <code>randomizer</code> function can  be   used to share this random selection amongst questions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.Formula" href="#JuliaWeBWorK.Formula"><code>JuliaWeBWorK.Formula</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Formula(ex)</p><p>For formula  answer, as in Example</p><pre><code class="nohighlight hljs">using SymPy
question  = raw&quot;What is  ``( {{:a1}} x^2 )``?&quot;
function answer(a)
  @vars x
  ex = a*x^2
  out = diff(ex,x)
  Formula(out)
end
randomvals = (1:5,)
randomq(question,  answer, randomvals)</code></pre><div class="admonition is-info" id="Note-72b8f66feecf82d9"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-72b8f66feecf82d9" title="Permalink"></a></header><div class="admonition-body"><p>This likely has cases not handled well through just call <code>string(ex)</code>. If so, the output of the answer should be <code>&quot;Fomula(\&quot;desired_expression\&quot;)&quot;</code>, as a string</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L239-L261">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.Interval" href="#JuliaWeBWorK.Interval"><code>JuliaWeBWorK.Interval</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Interval(a,b)</code></pre><p>Intervals have <code>a &lt; b</code>, and are graded regardless of open or closed</p><p>Example</p><pre><code class="nohighlight hljs">question = raw&quot;On what  intervals is ``f(x)=(x+1) \cdot x \cdot (x-1)`` positive?&quot;
answer() =  List([Interval(-1, 0), Interval(1,Inf)])
randomq(question, answer, ())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L295-L306">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.List" href="#JuliaWeBWorK.List"><code>JuliaWeBWorK.List</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>List(as...)</p><p>For List comparison, the function  should return answers  wrapped in  <code>List</code>; e.g. (<code>List(1,2,3)</code>).</p><p>Example</p><pre><code class="nohighlight hljs">using SymPy
question = raw&quot;What are the elements of  ``{1,2, {{:a1}}  }``&quot;
function  answer(a)
   List(1,2,a)
end
randomvals = (3:5,)
randomq(question,  answer, randomvals)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L270-L285">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.File-Tuple{Any}" href="#JuliaWeBWorK.File-Tuple{Any}"><code>JuliaWeBWorK.File</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">File(p)</code></pre><p>run <code>Base64.base64encode</code>; wrap  for inclusion into <code>img</code> tag.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L341-L345">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.INCLUDE-Tuple{Any}" href="#JuliaWeBWorK.INCLUDE-Tuple{Any}"><code>JuliaWeBWorK.INCLUDE</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">INCLUDE(DIR)</code></pre><p>Returns a function that will includes the <em>text</em> of a file found relative to the specified directory (which would usually be <code>@__DIR__</code>). Intended for use with <code>jsxgraph</code> to keeps JavaScript files separate from <code>.jl</code> files.</p><pre><code class="nohighlight hljs">INCLUDE = JuliaWeBWorK.INCLUDE(@__DIR__)
INCLUDE(&quot;fname.js&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L1376-L1388">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.LETTERS-Tuple{}" href="#JuliaWeBWorK.LETTERS-Tuple{}"><code>JuliaWeBWorK.LETTERS</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>return iterator over the letters <code>(a)</code>, <code>(b)</code>, ... Calling function increments letters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/page.jl#L298">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.MathObject-Tuple{JuliaWeBWorK.AbstractRandomizedQ}" href="#JuliaWeBWorK.MathObject-Tuple{JuliaWeBWorK.AbstractRandomizedQ}"><code>JuliaWeBWorK.MathObject</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MathObject(r)</code></pre><p>What type of <a href="https://webwork.maa.org/wiki/Introduction_to_MathObjects">MathObject</a> to create?  Defaults to &quot;List&quot;, but &quot;&quot; (<code>PlotQ</code>) or &quot;String&quot;  (<code>StringQ</code>)  are useful.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L370-L374">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.PAGE-Tuple{Any}" href="#JuliaWeBWorK.PAGE-Tuple{Any}"><code>JuliaWeBWorK.PAGE</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PAGE(SCRIPTNAME)</code></pre><p>Write a page to a file name based on the value of <code>SCRIPTNAME</code>. Returns an anonymous function which can be called repeatedly to write a page with a filename based on <code>SCRIPTNAME</code>.</p><p>This is designed to be used as <code>PAGE = JuliaWeBWorK.PAGE(@__FILE__)</code>. Then from one script file several related <code>pg</code> files can be generated. This might be useful for authoring exams where it is a good practice to have many separate problems and not one big one with many parts.</p><pre><code class="nohighlight hljs">using JuliaWeBWorK
PAGE = write_page(@__FILE__)

q = numericq(raw&quot;What is \({{:a1}} + {{:a2}}\)?&quot;, (a,b) -&gt; a+b, (1:4, 2:5))
PAGE(&quot;Addition&quot;, (q,))  # writes to SCRIPT_BASE_NAME-1.pg

q = numericq(raw&quot;What is \({{:a1}} - {{:a2}}\)?&quot;, (a,b) -&gt; a-b, (1:4, 2:5))
PAGE(&quot;subtraction&quot;, (q,))  # writes to SCRIPT_BASE_NAME-2.pg

q = numericq(raw&quot;What is \({{:a1}} * {{:a2}}\)?&quot;, (a,b) -&gt; a*b, (1:4, 2:5))
PAGE(&quot;multiplication&quot;, (q,))  # writes to SCRIPT_BASE_NAME-3.pg</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/page.jl#L236-L262">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.Plot-Tuple{Any}" href="#JuliaWeBWorK.Plot-Tuple{Any}"><code>JuliaWeBWorK.Plot</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Plot(p)</code></pre><p>Convert plot  to <code>png</code>  object; run <code>Base64.base64encode</code>; wrap  for inclusion into <code>img</code> tag.</p><p>Works for <code>Plots</code>, and would work for other graphing backends with a <code>show(io, MIME(&quot;text/png&quot;), p)</code> method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L321-L328">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.create_answer_partial-Tuple{JuliaWeBWorK.AbstractRandomizedQ}" href="#JuliaWeBWorK.create_answer_partial-Tuple{JuliaWeBWorK.AbstractRandomizedQ}"><code>JuliaWeBWorK.create_answer_partial</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_answer_partial</code></pre><p>Ability to modify just  part of the <code>create_answer_tpl</code> for &quot;AbstractRandomizedQ&quot; for a  given type. (e.g., <code>StringQ</code>)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L378-L382">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.essayq-Tuple{Any}" href="#JuliaWeBWorK.essayq-Tuple{Any}"><code>JuliaWeBWorK.essayq</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">essayq(question; width=60, height=6)</code></pre><p>WeBWorK allows for <strong>one</strong> essay question per page. These will be graded by the instructor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L1156-L1160">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.hint" href="#JuliaWeBWorK.hint"><code>JuliaWeBWorK.hint</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hint(text, tag=&quot;hint...&quot;)</code></pre><p>Little inline popup. <a href="https://webwork.maa.org/wiki/Knowls">docs</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L1273-L1278">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.htmlpreview-Tuple{String}" href="#JuliaWeBWorK.htmlpreview-Tuple{String}"><code>JuliaWeBWorK.htmlpreview</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">htmlpreview(fname::String; blur::Bool=true)
htmlpreview(fs; blur::Bool=true)</code></pre><p>Preview the script in HTML.</p><ul><li><code>fname</code>: name of script to generate <code>pg</code> files. Assumes the resulting <code>Page</code> object is named <code>p</code>.</li><li><code>fs</code>: create html file over all filenames created by iterating over <code>fs</code></li><li><code>blur</code>: blur the answers until clicked on</li></ul><p>This is useful to identfy errors, though the resulting <code>pg</code> files must also be checked for rendering issues.</p><p>The trip to HTML is a bit hacky; any oddities should be reported as bugs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/htmlpreview.jl#L154-L167">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.iframe" href="#JuliaWeBWorK.iframe"><code>JuliaWeBWorK.iframe</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">iframe(url, [alt]; [width], [height])</code></pre><p>Embed the web page specified in <code>url</code> in the page.</p><p>Example (from https://webwork.maa.org/wiki/IframeEmbedding1)</p><pre><code class="nohighlight hljs">r = iframe(&quot;https://docs.google.com/presentation/d/1pk0FxsamBuZsVh1WGGmHGEb5AlfC68KUlz7zRRIYAUg/embed#slide=id.i0&quot;;
    width=555, height=451)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L1221-L1232">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.jsxgraph-Tuple{Any}" href="#JuliaWeBWorK.jsxgraph-Tuple{Any}"><code>JuliaWeBWorK.jsxgraph</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">jsxgraph(commands; domid=&quot;jxgbox&quot;, width=600, height=400)</code></pre><p>Insert a graphic built using the <a href="https://jsxgraph.uni-bayreuth.de/wp/index.html">jsxgraph</a> javascript library.</p><p>The javascript commands below have a DOM id passed to <code>initBoard</code> which is specified to <code>domid</code>, with default of <code>jxgbox</code>. This would need adjusting were two or more graphs in the same page desired.</p><p>Example (https://jsxgraph.uni-bayreuth.de/wiki/index.php/Drag_Polygons):</p><pre><code class="nohighlight hljs">q = jsxgraph(&quot;&quot;&quot;
var brd = JXG.JSXGraph.initBoard(&#39;jxgbox&#39;, {boundingbox: [-10, 10, 10, -10]});
var a = brd.create(&#39;point&#39;, [-2, 1]);
var b = brd.create(&#39;point&#39;, [-4, -5]);
var c = brd.create(&#39;point&#39;, [3, -6]);
var d = brd.create(&#39;point&#39;, [2, 3]);
var p = brd.create(&#39;polygon&#39;, [a, b, c, d], {hasInnerPoints: true});
&quot;&quot;&quot;; domid=&quot;jxgbox&quot;)

p = Page(&quot;Dragging polygons&quot;, (q,))</code></pre><p>Most of the examples in the <a href="https://jsxgraph.uni-bayreuth.de/wiki/index.php/Category:Examples">jsxgraph wiki</a> work simply by copying the commands into a multi-line string, as in the example.</p><p>The site <a href="https://jsfiddle.net">jsfiddle.net</a> allows for easy testing of js code.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L1313-L1340">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.label-Tuple{Any}" href="#JuliaWeBWorK.label-Tuple{Any}"><code>JuliaWeBWorK.label</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">label(text)</code></pre><p>Add text area to a  set or questions</p><p>Example</p><pre><code class="nohighlight hljs">Click  [here](www.google.com)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L1190-L1199">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.multiplechoiceq-Tuple{Any, Any, Any}" href="#JuliaWeBWorK.multiplechoiceq-Tuple{Any, Any, Any}"><code>JuliaWeBWorK.multiplechoiceq</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs"> multiplechoiceq(question, choices, answer; [instruction])</code></pre><ul><li><p><code>choices</code> A collection of answers. An answer may be a collection, in which case it will be shuffled.</p></li><li><p><code>answer</code>: a tuple or vector  of indices of the  correct answers. The  indices refer  to the components stacked in random then fixed order.</p></li></ul><p>Example:</p><pre><code class="nohighlight hljs">multiplechoiceq(&quot;Select all three&quot;, (raw&quot;\(1\)&quot;, &quot;**two**&quot;, &quot;3&quot;), (1,2,3)) # not randomised
multiplechoiceq(&quot;Some question&quot;, ((&quot;one&quot;,&quot;two&quot;,&quot;three&quot;),&quot;four&quot;), 4) # first three randomized
multiplechoiceq(&quot;Some question&quot;, ((&quot;one&quot;,&quot;two&quot;,&quot;three&quot;),(&quot;four&quot;,&quot;five&quot;)), (4,5)) # randomized first three, last two</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L958-L971">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.numericq" href="#JuliaWeBWorK.numericq"><code>JuliaWeBWorK.numericq</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">numericq</code></pre><p>Alias for <a href="#randomq"><code>randomq</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L588-L592">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.radioq" href="#JuliaWeBWorK.radioq"><code>JuliaWeBWorK.radioq</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">radioq(question, choices,  answer, [solution])</code></pre><ul><li>choices. A collection of possible answers. These may be nested collections, in which case the second level is randomized</li><li>answer. The index, within  the flattened choices, of  the answer  (1-based)</li></ul><p>Examples</p><pre><code class="nohighlight hljs">radioq(&quot;Pick &quot;three&quot;&quot;, (&quot;one&quot;, &quot;two&quot;,&quot;three&quot;), 3)           # none randomized
radioq(&quot;Pick &quot;three&quot;&quot;, ((&quot;one&quot;, &quot;two&quot;,&quot;three&quot;),), 3)        # all randomized
radioq(&quot;Pick third&quot;, ((&quot;one&quot;, &quot;two&quot;),&quot;three&quot;),  3)            # &quot;three&quot; at end
radioq(&quot;Pick third&quot;, ((&quot;one&quot;,&quot;two&quot;),  (&quot;three&quot;,  &quot;four&quot;)), 3) # randomized each pair</code></pre><pre><code class="nohighlight hljs">choices  =  (&quot;one&quot;, &quot;two&quot;,&quot;three&quot;)
radioq(&quot;Pick &quot;three&quot;&quot;, [choices], 3)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L875-L896">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.randomizer-Tuple" href="#JuliaWeBWorK.randomizer-Tuple"><code>JuliaWeBWorK.randomizer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">randomizer(vars...)</code></pre><p>A  means to share the randomization across questions.</p><p>Example</p><pre><code class="nohighlight hljs">qs = JuliaWeBWorK.QUESTIONS()
r = randomizer(1:3) |&gt; qs
q1 =  randomq(&quot;What is  ``2-{{:a1}}?``&quot;, (a) -&gt; 2-a,  r) |&gt; qs
q2 =  randomq(&quot;What is  ``3-{{:a1}}?``&quot;, (a) -&gt; 3-a,  r) |&gt; qs
Page(&quot;test&quot;, qs)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L195-L209">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.randomq" href="#JuliaWeBWorK.randomq"><code>JuliaWeBWorK.randomq</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">randomq(question, ans_fn, random;  solution,  tolerance=1e-4,  ordered=false)</code></pre><p>Means to ask questions which are randomized within <code>Julia</code>. The basic usage expects one or more numeric values as the answer. The answers may be randomized by specifying random parameter values and an answer function which returns the answer for the range of values specified by the randomized parameters. Besides numeric values, the <code>Formula</code> type can be used to specify an expresion for the answer; the <code>Interval</code> type can be used to specify one or more intervals for an answer (all intervals are assumed open).</p><p>The function <code>numericq</code> is an alias.</p><p>Arguments:</p><ul><li><p><code>question</code> is a string processed through julia-flavored <code>Markdown</code></p><ul><li>LaTeX can be included: Use <code>\(, \)</code> for inline math and <code>\[,\]</code> for display math. Alternatively, enclosing values in double back ticks indicates inline LaTeX markup, and the math literal block syntax (&quot;<code>math ...</code>&quot;) can be used for display math.</li><li>use regular markdown for other markup. Eg, code, bold, italics, sectioning, lists.</li><li>The <code>jmt</code> string macro is helful to avoid escaping backslashes. It allows for string interpolation. Use <code>raw</code> if dollar signs have no meaning.</li><li>References to randomized variables are  through Mustache variables numbered sequentially  <code>{{:a1}}</code>, <code>{{:a2}}</code>, <code>{{:a3}}</code>, ... up to 16 (by default).</li></ul></li><li><p><code>ans_fn</code>: the answer function is  an n-ary function of the  randomized parameters</p></li><li><p><code>random</code>: the random parameters are specified by 0,1,2,or more (up</p></li></ul><p>to 16) iterable objects (e.g., <code>1:5</code> or <code>[1,2,3,5]</code>) combined in a tuple (grouped with parentheses; use <code>(itr,)</code> if only 1 randomized parameter). Alternatively, a <code>randomizer</code> object may be passed allowing shared randomization amongst questions.</p><p>The collection of all possible outputs for the given random parameterizations are generated and <code>WeBWorK</code> selects an index from among them.</p><ul><li><p>tolerance is  an <em>absolute</em> tolerance, when the output is numeric.</p></li><li><p><code>ordered</code> is only for the case where the output is a list and you want an exact order</p></li></ul><p>Examples</p><pre><code class="nohighlight hljs">using SymPy, SpecialFunctions
# markdown
randomq(&quot;What is the *value*  of  `airy(pi)`?&quot;, () -&gt; airyai(pi), ())
# latex via back ticks
randomq(&quot;What is ``{{:a1}} + {{:a2}}``?&quot;,  (a,b) -&gt; a+b, (1:5, 1:5))
randomq(&quot;What is ``{{:a1}}*{{:a2}}+{{:a3}}``?&quot;,  (a,b,c) -&gt; a*b+c, (1:5, 1:5,1:5))
# latex via \(, \)
randomq(raw&quot;What is \({{:a1}}\cdot{{:a2}} + {{:a3}}\)?&quot;,  (a,b,c) -&gt; a*b+c, (1:5, 1:5,1:5))
randomq(&quot;Estimate from your graph the \(x\)-intercept.&quot;, ()-&gt; 2.3, ();  tolerance=0.5)
## Dispaly math
randomq(&quot;What is \[ \infty  \]?&quot;,  () -&gt;  Inf, ())
randomq(&quot;What is \( {1,2,{{:a1}} } \)?&quot;,  (a) -&gt; List(1,2,a), (3:6), ordered=true)
randomq(&quot;What is the derivative of  \( \sin(x) \)?&quot;, () -&gt; (@syms x;  Formula(diff(sin(x),x))),  ())</code></pre><p>Plots may be included in different manners (see the example), but typically include via the <code>Plot</code> function as follows:</p><pre><code class="nohighlight hljs">using Plots
p = plot(sin, 0, 2pi);
plot!(zero);
q = randomq(&quot;![A Plot]($(Plot(p))) This is a plot  of ``sin`` over what interval?&quot;, ()-&gt;Interval(0, 2pi),())</code></pre><p>Plots may be randomized too.  See  <a href="#JuliaWeBWorK.Plot-Tuple{Any}"><code>Plot</code></a>, though they will not show in  a hard copy.</p><p>!! note &quot;TODO&quot;    Should consolidate arguments  to  <code>cmp</code> (<code>tolerance</code>,   <code>ordered</code>)    For <code>Interval</code> types,  may  need  to  set the context.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L496-L574">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.stringq" href="#JuliaWeBWorK.stringq"><code>JuliaWeBWorK.stringq</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stringq(question, answer, values)</code></pre><p>Answer among limited set of strings. The strings available are all the possible outputs of <code>answer</code> (a function) over all possible values  in the sample space.</p><p>Examples:</p><pre><code class="nohighlight hljs">q1 = stringq(raw&quot;Is \({{:a1}} &gt; 0\)? (yes/no)&quot;, (a) -&gt; (&quot;no&quot;,&quot;yes&quot;)[(a&gt;0) + 1], (-3:3,))
q2 = stringq(&quot;Spell  out {{:a1}}&quot;, (a) -&gt; (&quot;one&quot;,&quot;two&quot;,&quot;three&quot;)[a], (1:3,))</code></pre><p>!!! Note:     Using <code>yes/no</code> or <code>true/false</code> is common, so for these cases all 4 names are available, even if some do not appear in the collection of all possible outputs.</p><p>!!! Note:     If the answers don&#39;t include all likely choices, then the student will not have the option of choosing the distractors.... This is not so great.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L745-L763">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.subsetsortq-Tuple{Any, Any, Any}" href="#JuliaWeBWorK.subsetsortq-Tuple{Any, Any, Any}"><code>JuliaWeBWorK.subsetsortq</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs"> subsetsortq(question, choices, answer; [instruction])</code></pre><ul><li><p><code>choices</code> A vector of elements to sort into buckets</p></li><li><p><code>answer</code>: a <code>Vector{Pair{String, Vector{Int64}}}</code> where the key is the name of the &quot;bucket&quot; and the vector contains the indices of the properly sorted elements. (Order within the bucket is not considered.)</p></li></ul><p>Unlike the underlying WeBWorK widget, we put all values initially into the first bucket.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">choices =  [
        &quot;mouse&quot;,        &quot;ebola bacteria&quot;,
        &quot;flu virus&quot;,    &quot;krill&quot;,
        &quot;house cat&quot;,    &quot;emu&quot;,
        &quot;coyote&quot;,       &quot;tapir&quot;,
        &quot;hippopotamus&quot;, &quot;elephant&quot;,
        &quot;blue whale&quot;,   &quot;eagle&quot;
    ]
answers = [&quot;Animals&quot; =&gt; [],
           &quot;Mammals&quot; =&gt; [ 1,5,7,8,9,10,11],
           &quot;Birds&quot; =&gt; [6,12],
           &quot;Other&quot; =&gt; [2,3,4]]
subsetsortq(&quot;Organize the speciies&quot;, choices, answers)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L1032-L1057">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.yesnoq" href="#JuliaWeBWorK.yesnoq"><code>JuliaWeBWorK.yesnoq</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">yesnoq(question, yes::Bool, r=(), solution=&quot;&quot;)</code></pre><p>A question with non-computed answer &quot;yes&quot; (yes=true) or &quot;no&quot; (yes=false)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L789-L793">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuliaWeBWorK.@MT_str-Tuple{Any}" href="#JuliaWeBWorK.@MT_str-Tuple{Any}"><code>JuliaWeBWorK.@MT_str</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MT</code></pre><p>Use <code>&lt;&lt;...&gt;&gt;</code> or <code>&lt;&lt;{...}&gt;&gt;</code> for substitution before randomimization substitution. Useful for plots</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a9935bf3330cdc57cfd6b2a80eeb8c746023769d/src/answers.jl#L105-L109">source</a></section></article><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><p>A full example script might look like the following:</p><pre><code class="language-julia hljs">using JuliaWeBWorK
meta = (
  KEYWORDS = &quot;Sample questions&quot;,
)

qs = JuliaWeBWorK.QUESTIONS()
letters = JuliaWeBWorK.LETTERS()

intro = &quot;&quot;&quot;
![WeBWorK](https://webwork.maa.org/images/webwork_logo.svg)

A simple page.
&quot;&quot;&quot;

numericq(&quot;$(letters()) What is ``{{:a1}} + 2``?&quot;,
         (a) -&gt; a + 2, (1:3,)) |&gt; qs

radioq(&quot;$(letters()) Which is better?&quot;,
       (&quot;*Dark* chocolate&quot;, &quot;*White* chocolate&quot;), 1) |&gt; qs

p = Page(intro, qs; meta...)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">## KEYWORDS(&#39;Sample questions&#39;)
DOCUMENT();

loadMacros(&quot;PG.pl&quot;,&quot;PGbasicmacros.pl&quot;,&quot;PGanswermacros.pl&quot;);
loadMacros(&quot;PGstandard.pl&quot;);
loadMacros(&quot;PGcourse.pl&quot;);
loadMacros(&quot;MathObjects.pl&quot;);
loadMacros(&quot;Parser.pl&quot;);
loadMacros(&quot;AnswerFormatHelp.pl&quot;);
loadMacros(&quot;parserRadioButtons.pl&quot;);
loadMacros(&quot;PGchoicemacros.pl&quot;);
loadMacros(&quot;PGessaymacros.pl&quot;);
loadMacros(&quot;draggableSubsets.pl&quot;);
loadMacros(&quot;niceTables.pl&quot;);
##loadMacros(&quot;PGML.pl&quot;);
##loadMacros(&quot;PGcourse.pl&quot;);

Context()-&gt;{format}{number} = &quot;%.16g&quot;;
Context()-&gt;variables-&gt;add(y=&gt;&#39;Real&#39;, z=&gt;&#39;Real&#39;, t=&gt;&#39;Real&#39;, u=&gt;&#39;Real&#39;, m=&gt;&#39;Real&#39;, n=&gt;&#39;Real&#39;);
Context()-&gt;flags-&gt;set(ignoreEndpointTypes=&gt; 1);

my %seen;  # hat tip to https://perlmaven.com/unique-values-in-an-array-in-perl;  filter Context-&gt;strings-&gt;add
$seen{&quot;yes&quot;} = 1; $seen{&quot;no&quot;}=1;$seen{&quot;true&quot;} = 1; $seen{&quot;false&quot;}=1;
Context()-&gt;strings-&gt;add(qq(yes)=&gt;{},qq(no)=&gt;{},qq(true)=&gt;{},qq(false)=&gt;{});
$ATSYMS  = qw&quot;@syms&quot;;


TEXT(beginproblem());
HEADER_TEXT(&lt;&lt;EOF);
  &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;
  &lt;!-- //
  function windowpopup(url) {
     var opt = &quot;height=625,width=600,location=no,menubar=no,&quot; +
              &quot;status=no,resizable=yes,scrollbars=yes,&quot; +
              &quot;toolbar=no,&quot;;

    window.open(url,&#39;newwindow&#39;,opt).focus();
  }
  // --&gt;
  &lt;/script&gt;

EOF

$BBLOCKQUOTE =  MODES(
HTML=&gt;&quot;&lt;BlockQuote&gt;&quot;,
TeX =&gt;&quot;&quot;
);

$EBLOCKQUOTE  = MODES(
HTML=&gt;&quot;&lt;/BlockQuote&gt;&quot;,
TeX=&gt;&quot;&quot;
);

$ADMONITION = MODES(
HTML=&gt;&quot;&amp;#9734;&amp;nbsp;&quot;,
TeX=&gt;&quot;\(\bigwhitestar)&quot;);


## ---------- create answer values ----------

@list15927047723755614244 = (
[1, 3],
[2, 4],
[3, 5]
);


$randomizer15927047723755614244 = random(0,3-1, 1);
$a1aa15927047723755614244 = $list15927047723755614244[$randomizer15927047723755614244][1-1];
$answer15927047723755614244= List($list15927047723755614244[$randomizer15927047723755614244][1]);


$answer18021218507591963230 = RadioButtons(
[
 &quot;$BITALIC Dark$EITALIC chocolate&quot; , &quot;$BITALIC White$EITALIC chocolate&quot; ],
 &quot;$BITALIC Dark$EITALIC chocolate&quot; 
, noindex=&gt;1
);


## ---------- show  questions  ----------

$branding_ = &lt;&lt;&quot;END_BRANDING&quot;;

END_BRANDING
$branding = MODES(HTML=&gt;$branding_, TeX=&gt;&quot;[nothing to see]&quot;);
BEGIN_TEXT

$branding
END_TEXT
$ttfnoacmft = MODES(
HTML=&gt;&#39;&lt;figure&gt;&lt;img src=&quot;https://webwork.maa.org/images/webwork_logo.svg&quot;  alt=&quot;&quot;&gt;&lt;figcaption&gt;&lt;/figcaption&gt;&lt;/figure&gt;&#39;,
TeX=&gt;&#39;[](https://webwork.maa.org/images/webwork_logo.svg)&#39;,
);
BEGIN_TEXT
$ttfnoacmft
WeBWorK
$PAR
A simple page.$PAR


$HR$PAR

(a) What is \($a1aa15927047723755614244 + 2\)?$PAR

$PAR
\{ ans_rule(60) \}
$PAR

(b) Which is better?$PAR

$PAR
\{ $answer18021218507591963230-&gt;buttons() \}
$PAR

END_TEXT

## ---------- show  answers  ----------

ANS( $answer15927047723755614244-&gt;cmp(  tolerance=&gt;0.0001, tolType=&gt;&quot;absolute&quot; ));

ANS( $answer18021218507591963230-&gt;cmp(  ));

ENDDOCUMENT();
</code></pre></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Thursday 26 June 2025 21:12">Thursday 26 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
