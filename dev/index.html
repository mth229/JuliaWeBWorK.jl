<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>JuliaWeBWorK.jl · JuliaWeBWorK</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>JuliaWeBWorK</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>JuliaWeBWorK.jl</a><ul class="internal"><li><a class="tocitem" href="#Elements-of-a-page"><span>Elements of a page</span></a></li><li><a class="tocitem" href="#Reference"><span>Reference</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>JuliaWeBWorK.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>JuliaWeBWorK.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="JuliaWeBWorK.jl"><a class="docs-heading-anchor" href="#JuliaWeBWorK.jl">JuliaWeBWorK.jl</a><a id="JuliaWeBWorK.jl-1"></a><a class="docs-heading-anchor-permalink" href="#JuliaWeBWorK.jl" title="Permalink"></a></h1><p><a href="https://github.com/mth229/JuliaWeBWorK.jl">(source) JuliaWeBWorK.jl</a></p><p>The <code>JuliaWeBWorK</code> package is a means to author <code>.pg</code> file for <a href="https://webwork.maa.org/">WeBWorK</a> from a <code>Julia</code> script.</p><h2 id="Elements-of-a-page"><a class="docs-heading-anchor" href="#Elements-of-a-page">Elements of a page</a><a id="Elements-of-a-page-1"></a><a class="docs-heading-anchor-permalink" href="#Elements-of-a-page" title="Permalink"></a></h2><p>The script should call the package</p><pre><code class="language-julia hljs">using JuliaWeBWorK</code></pre><p>The basic flow is a &quot;page&quot; is defined in the script which when <code>show</code>n writes out the <code>pg</code> text.</p><hr/><p>A page consists of</p><ul><li>an introduction</li><li>questions</li><li>metadata</li></ul><p>A &quot;page&quot; is created by a call like:</p><pre><code class="nohighlight hljs">p =  Page(intro, qs;  [context], [answer_context], meta...)</code></pre><p>The <code>show</code> method for a page writes out the page in <code>pg</code> format for saving and uploading into <code>WeBWorK</code>.</p><p>A page has a <code>context</code> and <code>answer_context</code> instructing <code>WeBWorK</code> as to how it should process the student&#39;s answer. The value <a href="#JuliaWeBWorK.numbers_only"><code>numbers_only</code></a> for <code>answer_context</code> is used to turn off the simplification pass by <code>WeBWorK</code> (so students answers like <code>2+2</code> are distinct from <code>4</code>).</p><h3 id="An-introduction"><a class="docs-heading-anchor" href="#An-introduction">An introduction</a><a id="An-introduction-1"></a><a class="docs-heading-anchor-permalink" href="#An-introduction" title="Permalink"></a></h3><p>A introduction is just markdown text. Typically this is done in a <code>raw</code> text block so that backslashes need not be escaped. However, it can be useful to interpolate <code>Julia</code> values, in which case <code>raw</code> would not be used.</p><h3 id="Questions"><a class="docs-heading-anchor" href="#Questions">Questions</a><a id="Questions-1"></a><a class="docs-heading-anchor-permalink" href="#Questions" title="Permalink"></a></h3><p>Questions consist of a question <em>and</em> a means to grade student answers.</p><p>Questions come in a few different types:</p><h4 id="randomq"><a class="docs-heading-anchor" href="#randomq"><code>randomq</code></a><a id="randomq-1"></a><a class="docs-heading-anchor-permalink" href="#randomq" title="Permalink"></a></h4><p>Most questions can be randomized. As we expect answers to be computed using <code>Julia</code> code, the resulting <code>pg</code> file contains all possible combinations and <code>WeBWorK</code> simply chooses a random index. (Hence, the number of possible random outcomes shouldn&#39;t be too big.)</p><p>The randomization is specified using a tuple of iterables, as in <code>(1:5,)</code> or <code>(1:5, 1:5)</code>. (Note the trailing comma in the first to make a tuple.) Randomization can be shared amongst questions using a <a href="#JuliaWeBWorK.randomizer-Tuple"><code>randomizer</code></a> object.</p><p>Within a question, the randomized variables are referred to by <code>Mustache</code> variables numbered <code>{{:a1}}</code>, <code>{{:a2}}</code>, etc. (upto 16).</p><p>The answer to be graded is computed by an <code>n</code>-ary function with <code>n</code> the number of randomized variables (0 to 16).</p><p>The <code>randomq(question, answer_fn, randomizer; ...)</code> constructor allows this. This first example has no randomization (as specified by <code>()</code> for the third position argument).</p><pre><code class="language-julia hljs">using SpecialFunctions
randomq(&quot;What is the *value*  of  `airy(pi)`?&quot;, () -&gt; airyai(pi), ())</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">JuliaWeBWorK.FixedRandomQ(&quot;13428534535398526724&quot;, &quot;What is the *value*  of  `airy(pi)`?&quot;, &quot;&quot;, 0.005089353479594496, 0.0001, false)</code></pre><p>This example has randomization over two variables:</p><pre><code class="language-julia hljs">randomq(&quot;What is ``{{:a1}} + {{:a2}}``?&quot;,  (a,b) -&gt; a+b, (1:5, 1:5))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">JuliaWeBWorK.RandomQ(&quot;14153604185152056358&quot;, (1:5, 1:5), Main.var&quot;#3#4&quot;(), &quot;What is ``{{:a1}} + {{:a2}}``?&quot;, &quot;&quot;, 0.0001, false)</code></pre><p>The above two examples expect a numeric output. For the first, a tolerance would be expected. The <code>numericq</code> constructor has the keyword argument <code>tolerance</code> defaulting to <code>1e-4</code> for an absolute tolerance.</p><p>For students, answers have:</p><ul><li>scientific notation in answers must use an E (not <code>e</code>)</li><li><code>Inf</code> is used for infinity</li></ul><p>Other answer types than numbers can be specified:</p><h4 id="Lists"><a class="docs-heading-anchor" href="#Lists">Lists</a><a id="Lists-1"></a><a class="docs-heading-anchor-permalink" href="#Lists" title="Permalink"></a></h4><p>Student answers can be comma separated lists of numbers. The <a href="@ref"><code>List</code></a> function is used to specify the list.</p><pre><code class="language-julia hljs">question = raw&quot;&quot;&quot;What are the elements of  ``\{1,2, {{:a1}}  \}``?&quot;&quot;&quot;
answer(a) = List(1,2, a)
rnd = (3:5,)
randomq(question, answer, rnd)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">JuliaWeBWorK.RandomQ(&quot;17433813610060648664&quot;, (3:5,), Main.answer, &quot;What are the elements of  ``\\{1,2, {{:a1}}  \\}``?&quot;, &quot;&quot;, 0.0001, false)</code></pre><p>The keyword argument <code>ordered::Bool</code> can be specified if the list should be in some specific order, otherwise these are graded as sets.</p><h4 id="Intervals"><a class="docs-heading-anchor" href="#Intervals">Intervals</a><a id="Intervals-1"></a><a class="docs-heading-anchor-permalink" href="#Intervals" title="Permalink"></a></h4><p>An interval or list of intervals may be specified as an answer. When indicating an interval, we have <code>Interval(a,b)</code>. This will match regardless of open or closed, except when infinities are involved.</p><pre><code class="language-julia hljs">question = raw&quot;On what  intervals is ``f(x)=(x+1) \cdot x \cdot (x-1)`` positive?&quot;
answer() =  List([Interval(-1, 0), Interval(1,Inf)])
rnd = ()
randomq(question, answer, rnd)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">JuliaWeBWorK.FixedRandomQ(&quot;4972416264372034989&quot;, &quot;On what  intervals is ``f(x)=(x+1) \\cdot x \\cdot (x-1)`` positive?&quot;, &quot;&quot;, List(Interval(-1, 0), Interval(1, infinity)), 0.0001, false)</code></pre><h4 id="stringq"><a class="docs-heading-anchor" href="#stringq"><code>stringq</code></a><a id="stringq-1"></a><a class="docs-heading-anchor-permalink" href="#stringq" title="Permalink"></a></h4><p>To fill in from a limited set of strings, as computed by the possible range of the answer function over the random set.</p><h3 id="Choice-questions"><a class="docs-heading-anchor" href="#Choice-questions">Choice questions</a><a id="Choice-questions-1"></a><a class="docs-heading-anchor-permalink" href="#Choice-questions" title="Permalink"></a></h3><p>Choice questions only have their selection of answer(s) randomized. The questions do not have any templated values for substitution, as <code>randomq</code> questions may.</p><h4 id="radioq"><a class="docs-heading-anchor" href="#radioq"><code>radioq</code></a><a id="radioq-1"></a><a class="docs-heading-anchor-permalink" href="#radioq" title="Permalink"></a></h4><p>For multiple choice questions (1 of many). Also <code>yesnoq(questions, answer::Bool)</code> The choices to choose from are specified as an iterable of choices. If that iterable contains nested iterables, those will be shuffled. The correct answer is specified by index relative to the flattened collection:</p><pre><code class="nohighlight hljs">radioq(&quot;Pick \&quot;three\&quot;&quot;, (&quot;one&quot;, &quot;two&quot;,&quot;three&quot;), 3)           # none randomized
radioq(&quot;Pick \&quot;three\&quot;&quot;, ((&quot;one&quot;, &quot;two&quot;,&quot;three&quot;),), 3)        # all randomized
radioq(&quot;Pick third&quot;, ((&quot;one&quot;, &quot;two&quot;),&quot;three&quot;),  3)            # &quot;three&quot; at end
radioq(&quot;Pick third&quot;, ((&quot;one&quot;,&quot;two&quot;),  (&quot;three&quot;,  &quot;four&quot;)), 3) # randomized each pair</code></pre><h4 id="multiplechoiceq"><a class="docs-heading-anchor" href="#multiplechoiceq"><code>multiplechoiceq</code></a><a id="multiplechoiceq-1"></a><a class="docs-heading-anchor-permalink" href="#multiplechoiceq" title="Permalink"></a></h4><p>for multiple choice questions (1 <em>or more</em> of many) the answers should be a tuple of needed selections.</p><pre><code class="nohighlight hljs">multiplechoiceq(&quot;Select all three&quot;, (raw&quot;\\(1\\)&quot;, &quot;**two**&quot;, &quot;3&quot;), (1,2,3)) # not randomised
multiplechoiceq(&quot;Some question&quot;, ((&quot;one&quot;,&quot;two&quot;,&quot;three&quot;),&quot;four&quot;), 4) # first three randomized
multiplechoiceq(&quot;Some question&quot;, ((&quot;one&quot;,&quot;two&quot;,&quot;three&quot;),(&quot;four&quot;,&quot;five&quot;)), (4,5)) # randomized first three, last two</code></pre><h4 id="Essayq"><a class="docs-heading-anchor" href="#Essayq"><code>Essayq</code></a><a id="Essayq-1"></a><a class="docs-heading-anchor-permalink" href="#Essayq" title="Permalink"></a></h4><p>For longer form text answers that are graded individually. Only 1 per page is allowed.</p><h3 id="Output-only"><a class="docs-heading-anchor" href="#Output-only">Output only</a><a id="Output-only-1"></a><a class="docs-heading-anchor-permalink" href="#Output-only" title="Permalink"></a></h3><p>A WeBWorK question has 3 possible places of inclusion: the answer, the question or what the student sees, and a solution. Sometimes just output is needed.</p><h4 id="plotq"><a class="docs-heading-anchor" href="#plotq"><code>plotq</code></a><a id="plotq-1"></a><a class="docs-heading-anchor-permalink" href="#plotq" title="Permalink"></a></h4><p>For randomized plots in a question, <code>plotq</code> can be used to display the plots. Another question must be used to ask the question and gather the answer. The <code>randomizer</code> must be used to share randomization between the two.</p><h4 id="jsxgraph"><a class="docs-heading-anchor" href="#jsxgraph"><code>jsxgraph</code></a><a id="jsxgraph-1"></a><a class="docs-heading-anchor-permalink" href="#jsxgraph" title="Permalink"></a></h4><p>The page can include interactive graphics using <code>jsxgraph</code>. While not as interactive as the geogebra use within WeBWorK, this does allows interactive demonstrations. The <code>JuliaWeBWorK.INCLUDE</code> declaration creates a function which can make working with separate <code>.js</code> files easier within a script.</p><h4 id="hint"><a class="docs-heading-anchor" href="#hint"><code>hint</code></a><a id="hint-1"></a><a class="docs-heading-anchor-permalink" href="#hint" title="Permalink"></a></h4><p>A hint shows a little inline popup.</p><hr/><p>There are a few helpers for questions:</p><ul><li><code>Plot</code> allows for inclusion of a <code>Plots</code> object into a <code>pg</code> file. Plots are encoded and embedded.</li><li><code>File</code> allows for inclusion of images stored in files into a <code>pg</code> file. Images are encoded and embedded.</li><li><code>JuliaWeBWorK.QUESTIONS()</code> creates a container for questions that can be easily <code>push</code>ed onto via a pipe.</li><li><code>letters = JuliaWeBWorK.letters()</code> creates a function, <code>letters</code> which returns an incremented letter each time it is called. Useful to multi-part questions.</li><li>The <code>jmt</code> string macro allows interpolation using <code>$</code>; does not need backslashes escaped; and parses to Mustache tokens.</li></ul><h3 id="Meta-data"><a class="docs-heading-anchor" href="#Meta-data">Meta data</a><a id="Meta-data-1"></a><a class="docs-heading-anchor-permalink" href="#Meta-data" title="Permalink"></a></h3><p>Each <code>pg</code> file may have meta data in its contents. Such data is passed to the <code>Page</code> constructor through keyword arguments. For example, the following could be splatted into the call to <code>Page</code>.</p><pre><code class="nohighlight hljs">meta = (
KEYWORDS  = &quot;Julia, WeBWorK&quot;,
DBChapter = &quot;Sample questions&quot;,
DBSection = &quot;section 1&quot;,
Section = &quot;1&quot;,
Problem = &quot;1&quot;
)</code></pre><h2 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.numbers_only" href="#JuliaWeBWorK.numbers_only"><code>JuliaWeBWorK.numbers_only</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">numbers_only</code></pre><p>Dictionary to pass to <code>answer_context</code> to turn off WeBWorK&#39;s simplification pass. There is no means to turn this off per problem, only per page.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/page.jl#L73-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.AbstractChoiceQ" href="#JuliaWeBWorK.AbstractChoiceQ"><code>JuliaWeBWorK.AbstractChoiceQ</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs"> AbstractChoiceQ</code></pre><p>The  choices questions don&#39;t  readily lend themselves to fit  with  the <code>AbstractRandomizedQ</code> setup,  so the choice questions push randomization on  to WeBWorK.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L24-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.AbstractOutputQ" href="#JuliaWeBWorK.AbstractOutputQ"><code>JuliaWeBWorK.AbstractOutputQ</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractOutputQ</code></pre><p>Type for output only things (Plots, hint, label ...)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.AbstractQ" href="#JuliaWeBWorK.AbstractQ"><code>JuliaWeBWorK.AbstractQ</code></a> — <span class="docstring-category">Type</span></header><section><div><p>AbstractQ</p><p>A  question has atleast two part: a question (marked up in julia-flavored markdown) and an answer, which is typically randomized. In  WeBWorK, there are  tpyically 3 places in  the file where a question needs defintions:  in the preamble  the values are defined (written by <code>create_answer</code>);  between <code>BEGIN_TEXT</code> and <code>END_TEXT</code> the question is asked (written by <code>show_answer</code>); and the grading  area  (written by <code>show_answer).  Hints can be added through</code>hint`.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L2-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.AbstractRandomizedQ" href="#JuliaWeBWorK.AbstractRandomizedQ"><code>JuliaWeBWorK.AbstractRandomizedQ</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractRandomizedQ</code></pre><p>A question where randomization is done  by creating an array of <em>all</em> possible values  for the sample space in <code>Julia</code> and having WeBWorK  select  one of the values. The <a href="ref"><code>randomizer</code></a> function can  be   used to share this random selection amongst questions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.File-Tuple{Any}" href="#JuliaWeBWorK.File-Tuple{Any}"><code>JuliaWeBWorK.File</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">File(p)</code></pre><p>run <code>Base64.base64encode</code>; wrap  for inclusion into <code>img</code> tag.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L339-L343">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.INCLUDE-Tuple{Any}" href="#JuliaWeBWorK.INCLUDE-Tuple{Any}"><code>JuliaWeBWorK.INCLUDE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">INCLUDE(DIR)</code></pre><p>Returns a function that will includes the <em>text</em> of a file found relative to the specified directory (which would usually be <code>@__DIR__</code>). Intended for use with <code>jsxgraph</code> to keeps JavaScript files separate from <code>.jl</code> files.</p><pre><code class="nohighlight hljs">INCLUDE = JuliaWeBWorK.INCLUDE(@__DIR__)
INCLUDE(&quot;fname.js&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L1165-L1177">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.LETTERS-Tuple{}" href="#JuliaWeBWorK.LETTERS-Tuple{}"><code>JuliaWeBWorK.LETTERS</code></a> — <span class="docstring-category">Method</span></header><section><div><p>return iterator over the letters <code>(a)</code>, <code>(b)</code>, ... Calling function increments letters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/page.jl#L295">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.MathObject-Tuple{JuliaWeBWorK.AbstractRandomizedQ}" href="#JuliaWeBWorK.MathObject-Tuple{JuliaWeBWorK.AbstractRandomizedQ}"><code>JuliaWeBWorK.MathObject</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">MathObject(r)</code></pre><p>What type of <a href="https://webwork.maa.org/wiki/Introduction_to_MathObjects">MathObject</a> to create?  Defaults to &quot;List&quot;, but &quot;&quot; (<code>PlotQ</code>) or &quot;String&quot;  (<code>StringQ</code>)  are useful.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L368-L372">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.PAGE-Tuple{Any}" href="#JuliaWeBWorK.PAGE-Tuple{Any}"><code>JuliaWeBWorK.PAGE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PAGE(SCRIPTNAME)</code></pre><p>Write a page to a file name based on the value of <code>SCRIPTNAME</code>. Returns an anonymous function  which can be called repeatedly to write a page with a filename based on <code>SCRIPTNAME</code>.</p><p>This is designed to be used as <code>PAGE = JuliaWeBWorK.PAGE(@__FILE__)</code>. Then from one script file several related <code>pg</code> files can be generated. This might be useful for authoring exams where it is a good practice to have many separate problems and not one big one with many parts.</p><pre><code class="nohighlight hljs">using JuliaWeBWorK
PAGE = write_page(@__FILE__)

q = numericq(raw&quot;What is \({{:a1}} + {{:a2}}\)?&quot;, (a,b) -&gt; a+b, (1:4, 2:5))
PAGE(&quot;Addition&quot;, (q,))  # writes to SCRIPT_BASE_NAME-1.pg

q = numericq(raw&quot;What is \({{:a1}} - {{:a2}}\)?&quot;, (a,b) -&gt; a-b, (1:4, 2:5))
PAGE(&quot;subtraction&quot;, (q,))  # writes to SCRIPT_BASE_NAME-2.pg

q = numericq(raw&quot;What is \({{:a1}} * {{:a2}}\)?&quot;, (a,b) -&gt; a*b, (1:4, 2:5))
PAGE(&quot;multiplication&quot;, (q,))  # writes to SCRIPT_BASE_NAME-3.pg</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/page.jl#L233-L259">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.Plot-Tuple{Any}" href="#JuliaWeBWorK.Plot-Tuple{Any}"><code>JuliaWeBWorK.Plot</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Plot(p)</code></pre><p>Convert plot  to <code>png</code>  object; run <code>Base64.base64encode</code>; wrap  for inclusion into <code>img</code> tag.</p><p>Works for <code>Plots</code>, and would work for other graphing backends with a <code>show(io, MIME(&quot;text/png&quot;), p)</code> method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L319-L326">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.create_answer_partial-Tuple{JuliaWeBWorK.AbstractRandomizedQ}" href="#JuliaWeBWorK.create_answer_partial-Tuple{JuliaWeBWorK.AbstractRandomizedQ}"><code>JuliaWeBWorK.create_answer_partial</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_answer_partial</code></pre><p>Ability to modify just  part of the <code>create_answer_tpl</code> for &quot;AbstractRandomizedQ&quot; for a  given type. (e.g., <code>StringQ</code>)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L376-L380">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.essayq-Tuple{Any}" href="#JuliaWeBWorK.essayq-Tuple{Any}"><code>JuliaWeBWorK.essayq</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">essayq(question; width=60, height=6)</code></pre><p>WeBWorK allows for <strong>one</strong> essay question per page. These will be graded by the instructor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L945-L949">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.hint" href="#JuliaWeBWorK.hint"><code>JuliaWeBWorK.hint</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">hint(text, tag=&quot;hint...&quot;)</code></pre><p>Little inline popup. <a href="https://webwork.maa.org/wiki/Knowls">docs</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L1062-L1067">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.iframe" href="#JuliaWeBWorK.iframe"><code>JuliaWeBWorK.iframe</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">iframe(url, [alt]; [width], [height])</code></pre><p>Embed the web page specified in <code>url</code> in the page.</p><p>Example (from https://webwork.maa.org/wiki/IframeEmbedding1)</p><pre><code class="nohighlight hljs">r = iframe(&quot;https://docs.google.com/presentation/d/1pk0FxsamBuZsVh1WGGmHGEb5AlfC68KUlz7zRRIYAUg/embed#slide=id.i0&quot;;
    width=555, height=451)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L1010-L1021">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.jsxgraph-Tuple{Any}" href="#JuliaWeBWorK.jsxgraph-Tuple{Any}"><code>JuliaWeBWorK.jsxgraph</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">jsxgraph(commands; domid=&quot;jxgbox&quot;, width=600, height=400)</code></pre><p>Insert a graphic built using the <a href="https://jsxgraph.uni-bayreuth.de/wp/index.html">jsxgraph</a> javascript library.</p><p>The javascript commands below have a DOM id passed to <code>initBoard</code> which is specified to <code>domid</code>, with default of <code>jxgbox</code>. This would need adjusting were two or more graphs in the same page desired.</p><p>Example (https://jsxgraph.uni-bayreuth.de/wiki/index.php/Drag_Polygons):</p><pre><code class="nohighlight hljs">q = jsxgraph(&quot;&quot;&quot;
var brd = JXG.JSXGraph.initBoard(&#39;jxgbox&#39;, {boundingbox: [-10, 10, 10, -10]});
var a = brd.create(&#39;point&#39;, [-2, 1]);
var b = brd.create(&#39;point&#39;, [-4, -5]);
var c = brd.create(&#39;point&#39;, [3, -6]);
var d = brd.create(&#39;point&#39;, [2, 3]);
var p = brd.create(&#39;polygon&#39;, [a, b, c, d], {hasInnerPoints: true});
&quot;&quot;&quot;; domid=&quot;jxgbox&quot;)

p = Page(&quot;Dragging polygons&quot;, (q,))</code></pre><p>Most of the examples in the <a href="https://jsxgraph.uni-bayreuth.de/wiki/index.php/Category:Examples">jsxgraph wiki</a> work simply by copying the commands into a multi-line string, as in the example.</p><p>The site <a href="jsfiddle.net">jsfiddle.net</a> allows for easy testing of js code.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L1102-L1129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.label-Tuple{Any}" href="#JuliaWeBWorK.label-Tuple{Any}"><code>JuliaWeBWorK.label</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">label(text)</code></pre><p>Add text area to a  set or questions</p><p>Example</p><pre><code class="nohighlight hljs">Click  [here](www.google.com)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L979-L988">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.multiplechoiceq-Tuple{Any, Any, Any}" href="#JuliaWeBWorK.multiplechoiceq-Tuple{Any, Any, Any}"><code>JuliaWeBWorK.multiplechoiceq</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs"> multiplechoiceq(question, choices, answer; [instruction])</code></pre><ul><li><p><code>choices</code> A collection of answers. An answer may be a collection, in which case it will be shuffled.</p></li><li><p><code>answer</code>: a tuple or vector  of indices of the  correct answers. The  indices refer  to the components stacked in random then fixed order.</p></li></ul><p>Example:</p><pre><code class="nohighlight hljs">multiplechoiceq(&quot;Select all three&quot;, (raw&quot;\(1\)&quot;, &quot;**two**&quot;, &quot;3&quot;), (1,2,3)) # not randomised
multiplechoiceq(&quot;Some question&quot;, ((&quot;one&quot;,&quot;two&quot;,&quot;three&quot;),&quot;four&quot;), 4) # first three randomized
multiplechoiceq(&quot;Some question&quot;, ((&quot;one&quot;,&quot;two&quot;,&quot;three&quot;),(&quot;four&quot;,&quot;five&quot;)), (4,5)) # randomized first three, last two</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L857-L870">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.numericq" href="#JuliaWeBWorK.numericq"><code>JuliaWeBWorK.numericq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">numericq</code></pre><p>Alias for <a href="#JuliaWeBWorK.randomq"><code>randomq</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L586-L590">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.radioq" href="#JuliaWeBWorK.radioq"><code>JuliaWeBWorK.radioq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">radioq(question, choices,  answer, [solution])</code></pre><ul><li>choices. A collection of possible answers. These may be nested collections, in which case the second level is randomized</li><li>answer. The index, within  the flattened choices, of  the answer  (1-based)</li></ul><p>Examples</p><pre><code class="nohighlight hljs">radioq(&quot;Pick &quot;three&quot;&quot;, (&quot;one&quot;, &quot;two&quot;,&quot;three&quot;), 3)           # none randomized
radioq(&quot;Pick &quot;three&quot;&quot;, ((&quot;one&quot;, &quot;two&quot;,&quot;three&quot;),), 3)        # all randomized
radioq(&quot;Pick third&quot;, ((&quot;one&quot;, &quot;two&quot;),&quot;three&quot;),  3)            # &quot;three&quot; at end
radioq(&quot;Pick third&quot;, ((&quot;one&quot;,&quot;two&quot;),  (&quot;three&quot;,  &quot;four&quot;)), 3) # randomized each pair</code></pre><pre><code class="nohighlight hljs">choices  =  (&quot;one&quot;, &quot;two&quot;,&quot;three&quot;)
radioq(&quot;Pick &quot;three&quot;&quot;, [choices], 3)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L774-L795">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.randomizer-Tuple" href="#JuliaWeBWorK.randomizer-Tuple"><code>JuliaWeBWorK.randomizer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">randomizer(vars...)</code></pre><p>A  means to share the randomization across questions.</p><p>Example</p><pre><code class="nohighlight hljs">qs = JuliaWeBWorK.QUESTIONS()
r = randomizer(1:3) |&gt; qs
q1 =  randomq(&quot;What is  ``2-{{:a1}}?``&quot;, (a) -&gt; 2-a,  r) |&gt; qs
q2 =  randomq(&quot;What is  ``3-{{:a1}}?``&quot;, (a) -&gt; 3-a,  r) |&gt; qs
Page(&quot;test&quot;, qs)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L193-L207">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.randomq" href="#JuliaWeBWorK.randomq"><code>JuliaWeBWorK.randomq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">randomq(question, ans_fn, random;  solution,  tolerance=1e-4,  ordered=false)</code></pre><p>Means to ask questions which are randomized within <code>Julia</code>. The basic usage expects one or more numeric values as the answer. The answers may be randomized by specifying random parameter values and an answer function which returns the answer for the range of values specified by the randomized parameters. Besides numeric values, the <code>Formula</code> type can be used to specify an expresion for the answer; the <code>Interval</code> type can be used to specify one or more intervals for an answer (all intervals are assumed open).</p><p>The function <code>numericq</code> is an alias.</p><p>Arguments:</p><ul><li><p><code>question</code> is a string processed through julia-flavored <code>Markdown</code></p><ul><li>LaTeX can be included: Use <code>\(, \)</code> for inline math and <code>\[,\]</code> for display math. Alternatively, enclosing values in double back ticks indicates inline LaTeX markup, and the math literal block syntax (&quot;<code>math ...</code>&quot;) can be used for display math.</li><li>use regular markdown for other markup. Eg, code, bold, italics, sectioning, lists.</li><li>The <code>jmt</code> string macro is helful to avoid escaping backslashes. It allows for string interpolation. Use <code>raw</code> if dollar signs have no meaning.</li><li>References to randomized variables are  through Mustache variables numbered sequentially  <code>{{:a1}}</code>, <code>{{:a2}}</code>, <code>{{:a3}}</code>, ... up to 16 (by default).</li></ul></li><li><p><code>ans_fn</code>: the answer function is  an n-ary function of the  randomized parameters</p></li><li><p><code>random</code>: the random parameters are specified by 0,1,2,or more (up</p></li></ul><p>to 16) iterable objects (e.g., <code>1:5</code> or <code>[1,2,3,5]</code>) combined in a tuple (grouped with parentheses; use <code>(itr,)</code> if only 1 randomized parameter). Alternatively, a <a href="#JuliaWeBWorK.randomizer-Tuple"><code>randomizer</code></a> object may be passed allowing shared randomization amongst questions.</p><p>The collection of all possible outputs for the given random parameterizations are generated and <code>WeBWorK</code> selects an index from among them.</p><ul><li><p>tolerance is  an <em>absolute</em> tolerance, when the output is numeric.</p></li><li><p><code>ordered</code> is only for the case where the output is a list and you want an exact order</p></li></ul><p>Examples</p><pre><code class="nohighlight hljs">using SymPy, SpecialFunctions
# markdown
randomq(&quot;What is the *value*  of  `airy(pi)`?&quot;, () -&gt; airyai(pi), ())
# latex via back ticks
randomq(&quot;What is ``{{:a1}} + {{:a2}}``?&quot;,  (a,b) -&gt; a+b, (1:5, 1:5))
randomq(&quot;What is ``{{:a1}}*{{:a2}}+{{:a3}}``?&quot;,  (a,b,c) -&gt; a*b+c, (1:5, 1:5,1:5))
# latex via \(, \)
randomq(raw&quot;What is \({{:a1}}\cdot{{:a2}} + {{:a3}}\)?&quot;,  (a,b,c) -&gt; a*b+c, (1:5, 1:5,1:5))
randomq(&quot;Estimate from your graph the \(x\)-intercept.&quot;, ()-&gt; 2.3, ();  tolerance=0.5)
## Dispaly math
randomq(&quot;What is \[ \infty  \]?&quot;,  () -&gt;  Inf, ())
randomq(&quot;What is \( {1,2,{{:a1}} } \)?&quot;,  (a) -&gt; List(1,2,a), (3:6), ordered=true)
randomq(&quot;What is the derivative of  \( \sin(x) \)?&quot;, () -&gt; (@syms x;  Formula(diff(sin(x),x))),  ())</code></pre><p>Plots may be included in different manners (see the example), but typically include via the <code>Plot</code> function as follows:</p><pre><code class="nohighlight hljs">using Plots
p = plot(sin, 0, 2pi);
plot!(zero);
q = randomq(&quot;![A Plot]($(Plot(p))) This is a plot  of ``sin`` over what interval?&quot;, ()-&gt;Interval(0, 2pi),())</code></pre><p>Plots may be randomized too.  See  <a href="#JuliaWeBWorK.Plot-Tuple{Any}"><code>Plot</code></a>, though they will not show in  a hard copy.</p><p>!! note &quot;TODO&quot;    Should consolidate arguments  to  <code>cmp</code> (<code>tolerance</code>,   <code>ordered</code>)    For <code>Interval</code> types,  may  need  to  set the context.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L494-L572">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.stringq" href="#JuliaWeBWorK.stringq"><code>JuliaWeBWorK.stringq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">stringq(question, answer, values)</code></pre><p>Answer among limited set of strings. The strings available are all the possible outputs of <code>answer</code> (a function) over all possible values  in the sample space.</p><p>Examples:</p><pre><code class="nohighlight hljs">q1 = stringq(raw&quot;Is \({{:a1}} &gt; 0\)? (yes/no)&quot;, (a) -&gt; (&quot;no&quot;,&quot;yes&quot;)[(a&gt;0) + 1], (-3:3,))
q2 = stringq(&quot;Spell  out {{:a1}}&quot;, (a) -&gt; (&quot;one&quot;,&quot;two&quot;,&quot;three&quot;)[a], (1:3,))</code></pre><p>!!! Note:     Using <code>yes/no</code> or <code>true/false</code> is common, so for these cases all 4 names are available, even if some do not appear in the collection of all possible outputs.</p><p>!!! Note:     If the answers don&#39;t include all likely choices, then the student will not have the option of choosing the distractors.... This is not so great.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L644-L662">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.yesnoq" href="#JuliaWeBWorK.yesnoq"><code>JuliaWeBWorK.yesnoq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">yesnoq(question, yes::Bool, r=(), solution=&quot;&quot;)</code></pre><p>A question with non-computed answer &quot;yes&quot; (yes=true) or &quot;no&quot; (yes=false)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L688-L692">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="JuliaWeBWorK.@MT_str-Tuple{Any}" href="#JuliaWeBWorK.@MT_str-Tuple{Any}"><code>JuliaWeBWorK.@MT_str</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">MT</code></pre><p>Use <code>&lt;&lt;...&gt;&gt;</code> or <code>&lt;&lt;{...}&gt;&gt;</code> for substitution before randomimization substitution. Useful for plots</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mth229/JuliaWeBWorK.jl/blob/a38e1389c185685786c374a226bab22e14d95e66/src/answers.jl#L105-L109">source</a></section></article><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><p>A full example script might look like the following:</p><pre><code class="language- hljs">using JuliaWeBWorK
meta = (
  KEYWORDS = &quot;Sample questions&quot;,
)

qs = JuliaWeBWorK.QUESTIONS()
letters = JuliaWeBWorK.LETTERS()

intro = &quot;&quot;&quot;
![WeBWorK](https://webwork.maa.org/images/webwork_logo.svg)

A simple page.
&quot;&quot;&quot;

numericq(&quot;$(letters()) What is ``{{:a1}} + 2``?&quot;,
         (a) -&gt; a + 2, (1:3,)) |&gt; cs
radioq(&quot;$(letters()) Which is better?&quot;,
       (&quot;*Dark* chocolate&quot;, &quot;*White* chocolate&quot;), 1) |&gt; qs

p = Page(intro, qs; meta...)</code></pre></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.16 on <span class="colophon-date" title="Friday 29 April 2022 16:32">Friday 29 April 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
